<!DOCTYPE html>
<html>
<head>
    <title>Tracking Test</title>
    <script>
    async function testTracking() {
            console.log('üß™ Testing KPL-26020002 tracking...');
            
            try {
                const response = await fetch('http://localhost:3000/api/shipments/KPL-26020002');
                console.log('üì° Response status:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('‚úÖ Data received:', {
                        waybill: data.waybillNumber,
                        status: data.currentStatus,
                        origin: data.origin,
                        destination: data.destination
                    });
                    
                    // Test location coordinates
                    const locations = {
                        "Dar es Salaam": { lat: -6.8151812, lng: 39.2864692 },
                        "Mbeya": { lat: -8.9094, lng: 33.4608 }
                    };
                    
                    if (locations[data.origin] && locations[data.destination]) {
                        console.log('‚úÖ Coordinates valid');
                        document.getElementById('result').innerHTML = `
                            <div style="color: green;">
                                ‚úÖ Tracking works for KPL-26020002<br>
                                Status: ${data.currentStatus}<br>
                                Route: ${data.origin} ‚Üí ${data.destination}
                            </div>
                        `;
                    } else {
                        console.log('‚ùå Missing coordinates');
                        document.getElementById('result').innerHTML = `
                            <div style="color: red;">
                                ‚ùå Missing location coordinates
                            </div>
                        `;
                    }
                } else {
                    console.log('‚ùå API error:', response.status);
                    document.getElementById('result').innerHTML = `
                        <div style="color: red;">
                            ‚ùå API Error: ${response.status}
                        </div>
                    `;
                }
            } catch (error) {
                console.error('‚ùå Error:', error);
                document.getElementById('result').innerHTML = `
                    <div style="color: red;">
                        ‚ùå Error: ${error.message}
                    </div>
                `;
            }
        }
    </script>
</head>
<body onload="testTracking()">
    <h1>Tracking Test for KPL-26020002</h1>
    <div id="result">Testing...</div>
</body>
</html>
